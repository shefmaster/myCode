<!DOCTYPE html>
<html>
	<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <style>
      .task {
        margin: auto;
        padding: 40px 0;
        width: 90%;
        text-align: justify;
      }
    </style>
	</head>
    <body>
      <div class="task">
        <script type="text/javascript">
          /*
              3 вариант.
              Вывести слова текста следующим образом:  
              В том же порядке, в каком они следуют в тексте, без знаков препинания
              Если длина слова больше, чем средняя длина слова в тексте, то слово вывести красным цветом, если меньше, то зеленым.
          */     
    
          var str = 'Алисa сидела со старшей сестрой на берегу и маялась: делать ей было совершенно нечего, а сидеть без дела, сами знаете, дело нелегкое; раз-другой она, правда, сунула нос в книгу, которую сестра читала, но там не оказалось ни картинок, ни стишков. "Кому нужны книжки без картинок или хоть стишков, не понимаю!" - думала Алиса. С горя она начала подумывать (правда, сейчас это тоже было дело не из легких - от жары ее совсем разморило), что, конечно, неплохо бы сплести венок из маргариток, но плохо то, что тогда нужно подниматься и идти собирать эти маргаритки, как вдруг... Как вдруг совсем рядом появился белый кролик с розовыми глазками! Тут, разумеется, еще не было ничего такого необыкновенного; Алиса-то не так уж удивилась, даже когда услыхала, что Кролик сказал (а сказал он: "Ай-ай-ай! Я опаздываю!"). Кстати, потом, вспоминая обо всем этом, она решила, что все-таки немножко удивиться стоило, но сейчас ей казалось, что все идет как надо.Но когда Кролик достал из жилетного кармана (да-да, именно!) ЧАСЫ (настоящие!) и, едва взглянув на них, опрометью кинулся бежать, тут Алиса так и подскочила! Еще бы! Ведь это был первый Кролик в жилетке и при часах, какого она встретила за всю свою жизнь! Сгорая от любопытства, она со всех ног помчалась вдогонку за Кроликом и, честное слово, чуть-чуть его не догнала! Во всяком случае, она поспела как раз вовремя, чтобы заметить, как Белый Кролик скрылся в большой норе под колючей изгородью.';
    
          document.write('<h3>Исходный текст: </h3>' + '<br/>' +str);
          str = remSign(str).toLowerCase();
          document.write('<h3>Текст без знаков припинания: </h3>' + '<br/>' +str);
    
          str1 = ' Раскарасим текст в соответствии с заданием: ';
          
          var outFinalText = function(str) {
          var wordArr = str.split(" ");
          var output = '';
          var avg = avgCounter(str);
          document.write('<h3>Cредняя длина слова в тексте : '+ avg + ' символа.' + str1 + '</h3>' + '<br/>');
    
            for(ob in wordArr)
            { 
              if(wordArr[ob].length < avg)
              {
                output += document.write("<span style='color: green'>"+wordArr[ob]+ " " +"</span>");
              }
              else if(wordArr[ob].length > avg)
              {
                output += document.write("<span style='color: red'>"+wordArr[ob]+ " " +"</span>");
              }
              else {
                output += document.write("<span>"+wordArr[ob]+ " " +"</span>");
              }
            }
          }
    
          
          function remSign(str) {
            str = str.replace(/[,.!?:;"\-\(-)]/g, ' ');
            return str;
          }

          var avgCounter = function(x) 
          {
          var wordCount = x.split(" ").length;
          var wordArray = x.split(" ");
          var avgLen = wordArray.join('').length  / wordCount;
          return +avgLen.toFixed();
          };
          
        outFinalText(str);
    
        </script>	
      </div>
	</body>
</html>